!function(e){function t(e){d(e+"dialog.css");var t=document.getElementsByTagName("body")[0],n=document.createElement("div"),i=document.createElement("div");n.setAttribute("id","dialog-bg"),i.setAttribute("id","dialog"),t.appendChild(n),t.appendChild(i);var o=document.createElement("div");o.setAttribute("id","dialog-title");var l=document.createElement("p");l.setAttribute("id","dialog-title-p"),o.appendChild(l);var a=document.createElement("div");a.setAttribute("id","dialog-close"),i.appendChild(o),i.appendChild(a);var c=document.createElement("div");c.setAttribute("id","dialog-content"),i.appendChild(c);var r=document.createElement("p");r.setAttribute("id","dialog-content-p"),c.appendChild(r);var s=document.createElement("div");s.setAttribute("id","dialog-close-cha"),a.appendChild(s);var g=document.createElement("div");g.setAttribute("id","dialog-close-cha-hori");var u=document.createElement("div");u.setAttribute("id","dialog-close-cha-vert"),s.appendChild(g),s.appendChild(u)}function n(e,t){var n=document.getElementById("dialog-title-p"),i=document.getElementById("dialog-content-p"),d=document.getElementById("dialog-bg");d.style.display="block",n.innerHTML=e,i.innerHTML=t}function i(){var e=document.getElementById("dialog");e.style.display="none";var t=document.getElementById("dialog-bg");t.style.display="none"}function d(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e);var n=document.getElementsByTagName("head")[0];n.appendChild(t)}var o=function(e){if(!document.getElementById("dialog")){var d=$("script[src$='dialog.js']").attr("src"),o=d.substr(0,d.indexOf("dialog.js"));t(o),document.onkeydown=function(t){var n=t||window.event||arguments.callee.caller.arguments[0];n&&27==n.keyCode&&(e.effectHide?(e.effectHide($("#dialog")),$("#dialog-bg").css({display:"none"})):i(),e.onClose&&e.onClose($("#dialog")))}}if("undefined"!=$&&e.trigger&&e.title&&e.content){var l=$(e.trigger);l.click(function(){n(e.title,e.content),e.effectShow?e.effectShow($("#dialog")):$("#dialog").css({display:"block"})});var a=$("#dialog-close");a.click(function(){e.effectHide?(e.effectHide($("#dialog")),$("#dialog-bg").css({display:"none"})):i(),e.onClose&&e.onClose($("#dialog"))})}};e.dialog=o}(this),"function"==typeof define&&define.amd&&define("dialog",[],function(){return dialog}),$(document).ready(function(){dialog({trigger:"#btn",content:"<strong>哼哼哈嘿</strong>",title:"I am Title",effectShow:function(e){e.fadeIn(500)},effectHide:function(e){e.fadeOut(500)},onClose:function(){}})});